<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Haihao Sun">





<title>Leetcode-Training-75/150 | Haihao Sun&#39;s Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Haihao&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Haihao&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Leetcode-Training-75/150</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Haihao Sun</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">September 28, 2020&nbsp;&nbsp;22:05:14</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Training/">Training</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <img src="https://dotesports-media.nyc3.cdn.digitaloceanspaces.com/article/903bb880-ea5d-4400-8a9e-18c442989099.png" style="width:200px">



<h2 id="Problem-Description-146-LRU-Cache-73-150-1-5-5"><a href="#Problem-Description-146-LRU-Cache-73-150-1-5-5" class="headerlink" title="Problem Description 146. LRU Cache | 73/150  | 1.5/5"></a>Problem Description <a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="noopener">146. LRU Cache</a> | 73/150  | 1.5/5</h2><p>
Design a data structure that follows the constraints of a Least Recently Used (LRU) cache.

<p>Implement the LRUCache class:</p>
<p>LRUCache(int capacity) Initialize the LRU cache with positive size capacity.<br>int get(int key) Return the value of the key if the key exists, otherwise return -1.<br>void put(int key, int value) Update the value of the key if the key exists. Otherwise, add the key-value pair to the cache. If the number of keys exceeds the capacity from this operation, evict the least recently used key.</p>
<ul>
<li>Follow up:<br>Could you do get and put in O(1) time complexity?<p>

</li>
</ul>
<p>Example1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[&quot;LRUCache&quot;, &quot;put&quot;, &quot;put&quot;, &quot;get&quot;, &quot;put&quot;, &quot;get&quot;, &quot;put&quot;, &quot;get&quot;, &quot;get&quot;, &quot;get&quot;]</span><br><span class="line">[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]</span><br><span class="line">Output</span><br><span class="line">[null, null, null, 1, null, -1, null, -1, 3, 4]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">LRUCache lRUCache &#x3D; new LRUCache(2);</span><br><span class="line">lRUCache.put(1, 1); &#x2F;&#x2F; cache is &#123;1&#x3D;1&#125;</span><br><span class="line">lRUCache.put(2, 2); &#x2F;&#x2F; cache is &#123;1&#x3D;1, 2&#x3D;2&#125;</span><br><span class="line">lRUCache.get(1);    &#x2F;&#x2F; return 1</span><br><span class="line">lRUCache.put(3, 3); &#x2F;&#x2F; LRU key was 2, evicts key 2, cache is &#123;1&#x3D;1, 3&#x3D;3&#125;</span><br><span class="line">lRUCache.get(2);    &#x2F;&#x2F; returns -1 (not found)</span><br><span class="line">lRUCache.put(4, 4); &#x2F;&#x2F; LRU key was 1, evicts key 1, cache is &#123;4&#x3D;4, 3&#x3D;3&#125;</span><br><span class="line">lRUCache.get(1);    &#x2F;&#x2F; return -1 (not found)</span><br><span class="line">lRUCache.get(3);    &#x2F;&#x2F; return 3</span><br><span class="line">lRUCache.get(4);    &#x2F;&#x2F; return 4</span><br></pre></td></tr></table></figure>

<h2 id="Problem-Solution-146-LRU-Cache-73-150-1-5-5"><a href="#Problem-Solution-146-LRU-Cache-73-150-1-5-5" class="headerlink" title="Problem Solution 146. LRU Cache | 73/150  | 1.5/5"></a>Problem Solution <a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="noopener">146. LRU Cache</a> | 73/150  | 1.5/5</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val: int, key:int, pre, next)</span>:</span></span><br><span class="line">        self.val = val</span><br><span class="line">        self.key = key</span><br><span class="line">        self.pre = pre</span><br><span class="line">        self.next = next</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, capacity: int)</span>:</span></span><br><span class="line">        self.capacity = capacity</span><br><span class="line">        self.key2node = &#123;&#125;</span><br><span class="line">        self.head = Node(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">None</span>, <span class="literal">None</span>)</span><br><span class="line">        self.tail = Node(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">None</span>, <span class="literal">None</span>)</span><br><span class="line">        self.head.next = self.tail</span><br><span class="line">        self.tail.pre = self.head</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, key: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (key <span class="keyword">in</span> self.key2node):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        cur_node = self.key2node[key]</span><br><span class="line">        self.removeNode(cur_node)</span><br><span class="line">        self.addMostRecent(cur_node)</span><br><span class="line">        <span class="keyword">return</span> cur_node.val</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">put</span><span class="params">(self, key: int, value: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> self.key2node:</span><br><span class="line">            self.removeNode(self.key2node[key])</span><br><span class="line">            <span class="keyword">del</span> self.key2node[key]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> len(self.key2node) == self.capacity:</span><br><span class="line">            <span class="keyword">del</span> self.key2node[self.tail.pre.key]</span><br><span class="line">            self.removeNode(self.tail.pre)</span><br><span class="line"></span><br><span class="line">        cur_node = Node(value, key, <span class="literal">None</span>, <span class="literal">None</span>)</span><br><span class="line">        self.key2node[key] = cur_node</span><br><span class="line">        self.addMostRecent(cur_node)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addMostRecent</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        node.next = self.head.next</span><br><span class="line">        node.pre = self.head</span><br><span class="line">        self.head.next.pre = node</span><br><span class="line">        self.head.next = node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeNode</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        node.next.pre = node.pre</span><br><span class="line">        node.pre.next = node.next</span><br></pre></td></tr></table></figure>

<h2 id="Problem-Caution-146-LRU-Cache-73-150-1-5-5"><a href="#Problem-Caution-146-LRU-Cache-73-150-1-5-5" class="headerlink" title="Problem Caution 146. LRU Cache | 73/150  | 1.5/5"></a>Problem Caution <a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="noopener">146. LRU Cache</a> | 73/150  | 1.5/5</h2><ul>
<li>Since we have to approach this in both O(1) time complexity, we have to use hashmap to store the key,value pair</li>
<li>The additional problem is how do we keep the information of recently used</li>
<li>In order to store the information about recently used, we can use doubly linked list, where the left is the most recently used, and the tail is the least recently used.</li>
<li>O(1) Add, O(1) Put</li>
</ul>
<h2 id="Problem-Description-148-Sort-List-74-150-1-5"><a href="#Problem-Description-148-Sort-List-74-150-1-5" class="headerlink" title="Problem Description 148. Sort List | 74/150  | 1/5"></a>Problem Description <a href="https://leetcode.com/problems/sort-list/" target="_blank" rel="noopener">148. Sort List</a> | 74/150  | 1/5</h2><p>
Given the head of a linked list, return the list after sorting it in ascending order.

<p>Follow up: Can you sort the linked list in O(n logn) time and O(1) memory (i.e. constant space)?</p>
</p>


<p>Example1:<br><img src="https://assets.leetcode.com/uploads/2020/09/14/sort_list_1.jpg"></p>
<p>
Input: head = [4,2,1,3]
Output: [1,2,3,4]
</p>



<h2 id="Problem-Solution-148-Sort-List-74-150-1-5"><a href="#Problem-Solution-148-Sort-List-74-150-1-5" class="headerlink" title="Problem Solution 148. Sort List | 74/150  | 1/5"></a>Problem Solution <a href="https://leetcode.com/problems/sort-list/" target="_blank" rel="noopener">148. Sort List</a> | 74/150  | 1/5</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># credit to https://leetcode.com/problems/sort-list/discuss/46712/Bottom-to-up(not-recurring)-with-o(1)-space-complextity-and-o(nlgn)-time-complextity</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortList</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: ListNode</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> head <span class="keyword">is</span> <span class="literal">None</span>: <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">getSize</span><span class="params">(head)</span>:</span></span><br><span class="line">            counter = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span>(head <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>):</span><br><span class="line">                counter +=<span class="number">1</span></span><br><span class="line">                head = head.next</span><br><span class="line">            <span class="keyword">return</span> counter</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">split</span><span class="params">(head, step)</span>:</span></span><br><span class="line">            i = <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> (i &lt; step <span class="keyword">and</span> head):</span><br><span class="line">                head = head.next</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span> head <span class="keyword">is</span> <span class="literal">None</span>: <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            <span class="comment">#disconnect</span></span><br><span class="line">            temp, head.next = head.next, <span class="literal">None</span></span><br><span class="line">            <span class="keyword">return</span> temp</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(l, r, head)</span>:</span></span><br><span class="line">            cur = head</span><br><span class="line">            <span class="keyword">while</span>(l <span class="keyword">and</span> r):</span><br><span class="line">                <span class="keyword">if</span> l.val &lt; r.val:</span><br><span class="line">                    cur.next, l = l, l.next</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    cur.next, r = r, r.next</span><br><span class="line">                cur = cur.next</span><br><span class="line">            </span><br><span class="line">            cur.next = l <span class="keyword">if</span> l <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> r</span><br><span class="line">            <span class="keyword">while</span> cur.next <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>: cur = cur.next</span><br><span class="line">            <span class="keyword">return</span> cur</span><br><span class="line"></span><br><span class="line">        size = getSize(head)</span><br><span class="line">        bs = <span class="number">1</span></span><br><span class="line">        dummy = ListNode(<span class="number">0</span>)</span><br><span class="line">        dummy.next = head</span><br><span class="line">        l, r, tail = <span class="literal">None</span>, <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> (bs &lt; size):</span><br><span class="line">            cur = dummy.next</span><br><span class="line">            tail = dummy</span><br><span class="line">            <span class="keyword">while</span> cur:</span><br><span class="line">                l = cur</span><br><span class="line">                r = split(l, bs)</span><br><span class="line">                cur = split(r, bs)</span><br><span class="line">                tail = merge(l, r, tail)</span><br><span class="line">            bs &lt;&lt;= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> dummy.next</span><br></pre></td></tr></table></figure>


<h2 id="Problem-Caution-148-Sort-List-74-150-1-5"><a href="#Problem-Caution-148-Sort-List-74-150-1-5" class="headerlink" title="Problem Caution 148. Sort List | 74/150  | 1/5"></a>Problem Caution <a href="https://leetcode.com/problems/sort-list/" target="_blank" rel="noopener">148. Sort List</a> | 74/150  | 1/5</h2><ul>
<li>Implement MergeSort</li>
<li>O(nlogn)</li>
</ul>
<h2 id="Problem-Description-149-Max-Points-on-a-Line-75-150-2-5-5"><a href="#Problem-Description-149-Max-Points-on-a-Line-75-150-2-5-5" class="headerlink" title="Problem Description 149. Max Points on a Line | 75/150  | 2.5/5"></a>Problem Description <a href="https://leetcode.com/problems/max-points-on-a-line/" target="_blank" rel="noopener">149. Max Points on a Line</a> | 75/150  | 2.5/5</h2><p>
Given n points on a 2D plane, find the maximum number of points that lie on the same straight line.
</p>


<p>Example1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: [[1,1],[2,2],[3,3]]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation:</span><br><span class="line">^</span><br><span class="line">|</span><br><span class="line">|        o</span><br><span class="line">|     o</span><br><span class="line">|  o  </span><br><span class="line">+-------------&gt;</span><br><span class="line">0  1  2  3  4</span><br></pre></td></tr></table></figure>

<h2 id="Problem-Solution-149-Max-Points-on-a-Line-75-150-2-5-5"><a href="#Problem-Solution-149-Max-Points-on-a-Line-75-150-2-5-5" class="headerlink" title="Problem Solution 149. Max Points on a Line | 75/150  | 2.5/5"></a>Problem Solution <a href="https://leetcode.com/problems/max-points-on-a-line/" target="_blank" rel="noopener">149. Max Points on a Line</a> | 75/150  | 2.5/5</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxPoints</span><span class="params">(self, points: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">gcd</span><span class="params">(a,b)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> b == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> a</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> gcd(b, a%b)</span><br><span class="line">        </span><br><span class="line">        m = len(points)</span><br><span class="line">        global_max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            mp = &#123;&#125;</span><br><span class="line">            local_max, overlap = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="keyword">if</span> i == j:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">                dx = points[i][<span class="number">0</span>] - points[j][<span class="number">0</span>]</span><br><span class="line">                dy = points[i][<span class="number">1</span>] - points[j][<span class="number">1</span>]</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> dx == <span class="number">0</span> <span class="keyword">and</span> dy == <span class="number">0</span>:</span><br><span class="line">                    overlap += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                </span><br><span class="line">                cur_gcd = gcd(dx, dy)</span><br><span class="line">                dx = dx / cur_gcd</span><br><span class="line">                dy = dy / cur_gcd</span><br><span class="line">                key = str(str(dx) + <span class="string">"/"</span> + str(dy))</span><br><span class="line">                <span class="keyword">if</span> key <span class="keyword">in</span> mp:</span><br><span class="line">                    mp[key] += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    mp[key] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                local_max = max(local_max, mp[key])</span><br><span class="line">            print(mp)</span><br><span class="line">            global_max = max(global_max, local_max + overlap + <span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> global_max</span><br></pre></td></tr></table></figure>

<h2 id="Problem-Caution-149-Max-Points-on-a-Line-75-150-2-5-5"><a href="#Problem-Caution-149-Max-Points-on-a-Line-75-150-2-5-5" class="headerlink" title="Problem Caution 149. Max Points on a Line | 75/150  | 2.5/5"></a>Problem Caution <a href="https://leetcode.com/problems/max-points-on-a-line/" target="_blank" rel="noopener">149. Max Points on a Line</a> | 75/150  | 2.5/5</h2><ul>
<li>Store the slope as float/double would cause an error, a better way to do it is to store the slope in gcd</li>
<li>O(n^2)</li>
</ul>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Haihao Sun</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="http://haihao-sun.github.io/2020/09/28/Leetcode-Training-75-150/">http://haihao-sun.github.io/2020/09/28/Leetcode-Training-75-150/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Trust the process.</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/training-Leetcode/"># training-Leetcode</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/09/29/Leetcode-Training-78-150/">Leetcode-Training-78/150</a>
            
            
            <a class="next" rel="next" href="/2020/09/27/Leetcode-Training-72-150/">Leetcode-Training-72/150 </a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Haihao Sun | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
